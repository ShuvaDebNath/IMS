<div class="card card-default">
  <div
    class="content-heading"
    style="border-bottom: 1px solid rgba(0, 0, 0, 0.125) !important"
  >
    <h2 class="p-2 font-weight-bold theme-color">
      <i class="fas fa-list-alt fa-1x"></i>&nbsp;Beneficiary List
    </h2>
  </div>

  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div class="d-flex align-items-center">
        <button
          *ngIf="insertPermissions"
          class="btn theme-btn"
          style="color: white"
          routerLink="/beneficiary-create"
        >
          <i class="fas fa-plus"></i>&nbsp;Create New
        </button>

        <div class="d-flex align-items-center ml-3">
          <label class="mb-0 mr-2 theme-text">Show</label>
          <select class="form-control form-control-sm" style="width: auto">
            <option>10</option>
            <option>25</option>
            <option>50</option>
            <option>100</option>
          </select>
          <label class="mb-0 ml-2 theme-text">entries</label>
        </div>
      </div>

      <div class="d-flex align-items-center">
        <label class="mb-0 mr-2">Search:</label>
        <input
          type="text"
          class="form-control form-control-sm"
          [(ngModel)]="searchText"
          (keyup)="getBeneficiaries({offset:0}, 1, pageSize, searchText)"
          placeholder="Search..."
        />
      </div>
    </div>

    <div class="datatable">
      <table class="table table-bordered table-striped">
        <thead>
          <tr style="background-color: #f5f5f5">
            <th class="p-2">Company Name</th>
            <th class="p-2">BIN No</th>
            <th class="p-2">City</th>
            <th class="p-2">Country</th>
            <th class="p-2">ETIN</th>
            <th class="p-2">VAT Reg</th>
            <th class="p-2">Payment Type</th>
            <th class="p-2">Action</th>
          </tr>
        </thead>

        <tbody class="text-dark">
          <tr *ngFor="let item of rows; let i = index">
            
            <td class="align-middle">{{ item.CompanyName }}</td>
            <td class="align-middle">{{ item.BinNo }}</td>
            <td class="align-middle">{{ item.City }}</td>
            <td class="align-middle">{{ item.Country_ID }}</td>
            <td class="align-middle">{{ item.ETIN }}</td>
            <td class="align-middle">{{ item.VATRegNo }}</td>
            <td class="align-middle">
              <ng-container [ngSwitch]="item.PaymentTypeId">
                <span *ngSwitchCase="1">Cash</span>
                <span *ngSwitchCase="2">LC</span>
                <span *ngSwitchCase="3">Both</span>
              </ng-container>
            </td>
            <td class="text-center align-middle p-0 m-0">
              <a
                *ngIf="updatePermissions"
                class="btn theme-btn btn-sm text-white m-1"
                title="Edit"
                [routerLink]="['/beneficiary-create']"
                [queryParams]="{ Beneficiary_Account_ID: item.Beneficiary_Account_ID }"
              >
                <i class="fa fa-edit"></i>
              </a>

              <a
                *ngIf="allPermissions"
                class="btn btn-sm text-white m-1 theme-btn"
                title="Details"
              >
                <i class="fa fa-info-circle"></i>
              </a>

              <button
                *ngIf="deletePermissions"
                class="btn btn-sm text-white m-1"
                title="Delete"
                (click)="deleteBeneficiary(item)"
                style="background-color: #dc3545"
              >
                <i class="fas fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <mat-paginator
        class="theme-btn"
        showFirstLastButtons
        (page)="paginatiorChange($event)"
        [length]="length"
        [pageSize]="pageSize"
        [pageSizeOptions]="pageSizeOptions"
        aria-label="Select page of periodic elements"
      >
      </mat-paginator>
    </div>
  </div>
</div>
