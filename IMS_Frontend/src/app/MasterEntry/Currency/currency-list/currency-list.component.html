<div class="container">
  <h1 class="theme-text">ALL Customers List</h1>

  <div class="col-md-2">
    <div class="d-flex align-items-center">
      <button
        *ngIf="insertPermissions"
        class="btn theme-btn"
        style="color: white"
        routerLink="/generate-customers"
        target="_blank"
      >
        <i class="fas fa-plus"></i>&nbsp;Create New
      </button>
    </div>
  </div>
  <div class="shadow-sm p-2">
    <p-table
      *ngIf="tableVisible"
      #dt
      [value]="allCustomers"
      [paginator]="true"
      [rows]="10"
      [responsive]="true"
      [showCurrentPageReport]="true"
      [globalFilterFields]="[
        'CurrencyCode',
        'Name',
        'ExchangeRate',
        'IsAvailable',
      ]"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    >
      <ng-template pTemplate="caption">
        <div class="table-toolbar">
          <span class="p-input-icon-left">
            <i class="pi pi-search"></i>
            <input
              pInputText
              type="text"
              (input)="dt.filterGlobal($any($event.target).value, 'contains')"
              placeholder="Global Search"
            />
          </span>
        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr>
          <th class="text-center">Serial No</th>
          <th class="text-center">Customer Name</th>
          <th class="text-center">Contact Person</th>
          <th class="text-center">Customer Address</th>
          <th class="text-center">Designation</th>
          <th class="text-center">Group Head</th>
          <th class="text-center">Phone Number</th>
          <th class="text-center">E-mail Address</th>
          <th class="text-center">Action</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-CustomersLIst let-i="rowIndex">
        <tr>
          <td class="text-center">{{ (dt.first || 0) + i + 1 }}</td>
          <td class="text-start">{{ CustomersLIst.Company_Name }}</td>
          <td class="text-start">{{ CustomersLIst.Contact_Name }}</td>
          <td class="text-start">{{ CustomersLIst.Customer_Address }}</td>
          <td class="text-start">{{ CustomersLIst.Contact_Title }}</td>
          <td class="text-start">{{ CustomersLIst.UserName }}</td>
          <td class="text-start">{{ CustomersLIst.Phone_No }}</td>
          <td class="text-start">{{ CustomersLIst.Email }}</td>
          <td class="d-flex gap-2 justify-content-center">
            <a
              *ngIf="updatePermissions"
              class="btn bg-gradient-cyan btn-xs mr-2"
              target="_blank"
              title="Edit"
              [routerLink]="['/generate-customers']"
              [queryParams]="{ Customer_Id: CustomersLIst.Customer_ID }"
              ><i class="fa fa-edit"></i
            ></a>
            <button
              *ngIf="deletePermissions"
              class="btn btn-danger btn-sm d-inline-flex align-items-center"
              (click)="onDelete(CustomersLIst)"
              title="Delete"
              aria-label="Delete"
            >
              <i class="pi pi-trash me-1"></i>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
